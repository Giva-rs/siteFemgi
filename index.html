<script>
  const isMobile = window.matchMedia("(max-width: 768px)").matches;

  if (isMobile) {
    const observerOptions = {
      root: null,
      threshold: 0.2 
    };

    const revealOnScroll = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          
          if (entry.target.classList.contains('projeto-img')) {
            entry.target.classList.remove('grayscale');
          }
          
          if (entry.target.classList.contains('solucao-reveal')) {
            entry.target.style.opacity = "1";
            entry.target.style.transform = "translateY(0)";
            entry.target.style.color = "#000";
          }

          // Corrigido para o nome correto da constante
          revealOnScroll.unobserve(entry.target);
        }
      });
    }, observerOptions);

    // 2. Aplicando nas Imagens (Certifique-se de adicionar a classe projeto-img no HTML)
    document.querySelectorAll('.projeto-img').forEach(img => {
      revealOnScroll.observe(img);
    });

    // 3. Aplicando nas Soluções (H4)
    document.querySelectorAll('details h4').forEach(title => {
      title.classList.add('solucao-reveal');
      title.style.opacity = "0";
      title.style.transform = "translateY(20px)";
      title.style.transition = "all 0.8s ease-out";
      title.style.color = "#9CA3AF"; 
      
      revealOnScroll.observe(title);
    });
  }
</script>
